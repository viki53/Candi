---
---

{% include head.html %}

<div id="chat-box">
	<ul id="chat-messages"></ul>
	<form action="#0" id="chat-form"></form>
</div>

{% raw %}
<template id="tpl-question">
	<li class="message bot">
		{{label}}
	</li>
</template>

<template id="tpl-answer-radio">
	<li class="message user">
		{{label}}
	</li>
</template>
<template id="tpl-answer-autocomplete">
	<li class="message user">
		{{label}}
	</li>
</template>
<template id="tpl-answer-checkbox">
	<li class="message user">
		{{#each choices}}
		{{label}}
		{{/each}}
	</li>
</template>

<template id="tpl-form-answer-radio">
	<ul class="form-answer-radio-choices">
		{{#each choices}}
		<li id="question-{{../id}}-answer-{{id}}">
			<input type="radio" name="question-{{../id}}" value="{{id}}">
			<label>
				{{label}}
			</label>
		</li>
		{{/each}}
	</ul>
</template>

<template id="tpl-form-answer-autocomplete">
	<div class="form-answer-autocomplete-options">
		<input type="text" list="question-{{id}}-datalist">
		<datalist id="question-{{id}}-datalist">
			{{#each choices}}
			<option value="{{label}}"></option>
			{{/each}}
		</datalist>
		<button type="submit">Confirm</button>
	</div>
</template>

<template id="tpl-form-answer-checkbox">
	<ul class="form-answer-checkbox-choices">
		{{#each choices}}
		<li id="question-{{../id}}-answer-{{id}}">
			<input type="checkbox" name="question-{{../id}}[]" value="{{id}}">
			<label>
				{{label}}
			</label>
		</li>
		{{/each}}
	</ul>
	<div class="form-answer-checkbox-options">
		<output id="form-answer-checkbox-count">0</output>/{{choices.length}}
		<button type="submit">Confirm</button>
	</div>
</template>
{% endraw %}

<script>
	{% assign questions = site.data.questions %}
	{% assign locale = "fr" %}
	{% assign translations = site.data.lang[locale] %}

	document.addEventListener('DOMContentLoaded', function() {
		const QUESTIONS = {{questions | jsonify}};
		const TRANSLATIONS = {{translations | jsonify}};

		const MANAGER = new QuestionManager(QUESTIONS, TRANSLATIONS);
	}, false);
</script>
{% include footer.html %}
